<%- include("partials/title.ejs") %>

<body class="d-flex flex-column min-vh-100">
    <%- include("partials/header.ejs") %>

    <div class="container">
    <form action="/submit" method="POST">

        <h1 class="h3 my-3 fw-normal">
          <% if (locals.post) { %>
            <% if (locals.post.type[0] === "d") { %>
              Delete Post
            <% } else { %>
              Update Post
            <% } %>          
          <% } else { %>
            New Post
          <% } %>
        </h1>

        <div class="mb-3">
            <label for="title" class="form-label">Title</label>
            <input type="text" class="form-control" aria-label="title" name="title"
            <% if (locals.post) { %>
              value="<%=locals.post.title%>"
            <% } %>
            >
          </div>
          <div class="mb-3">
          <label for="author" class="form-label">Author</label>
          <input type="text" class="form-control" aria-label="author" name="author" <% if (locals.post) { %>
            value = "<%=locals.post.author %>"
          <% } %>>
        </div>
          <div class="mb-3">
            <label for="content" class="form-label">Content</label>
            <textarea class="form-control" id="content" rows="5" name="content"><% if (locals.post) { %><%=locals.post.content %><% } %></textarea>
          </div>
          
          <% if (locals.post) { %>
            <% if (locals.post.type[0] === "d") { %>
              <button class="btn btn-dark py-2 my-3" type="submit" name="submit" value=<%= locals.post.type %>>Delete</button>
            <% } else { %>
              <button class="btn btn-dark py-2 my-3" type="submit" name="submit" value=<%= locals.post.type %>>Save</button>
            <% } %>          
          <% } else { %>
            <button class="btn btn-dark py-2 my-3" type="submit" name="submit" value="n">Save</button>
          <% } %>
        
        <button class="btn btn-dark py-2 my-3" type="submit" name="submit" value="cancel">Cancel</button>
      </form>
    </div>
    <%- include("partials/footer.ejs") %>
</body>
</html>