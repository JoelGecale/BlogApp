<%- include("partials/title.ejs") %>

<body class="d-flex flex-column min-vh-100">
    <%- include("partials/header.ejs") %>

    <div class="container py-3">

        <% if (locals.posts) { %>
            <% for(i=0; i<locals.posts.length; i++) { %>

            <form action="/detail" method="POST">  
                <div class="d-flex flex-column align-items-stretch flex-shrink-0 bg-body-tertiary">            
                <div class="list-group list-group-flush border-bottom scrollarea">
                    <div class="list-group-item list-group-item-action py-3 lh-sm">
                      <div class="d-flex w-100 align-items-center justify-content-between">
                        <strong type="text" class="mb-1"><%= locals.posts[i].title %></strong>
                        <small class="text-body-secondary"><%= locals.posts[i].date %></small>
                      </div>
                      <div class="col-10 mb-1" name="content"><%= locals.posts[i].content.substring(0,200) + "..." %></div>
                      <div class="d-flex justify-content-end">
                      <button class="btn btn-dark py-2 my-3" name="submit" type="submit" value=<%= "v" + i %>>View</button>
                      <button class="btn btn-dark py-2 my-3 mx-2" name="submit" type="submit" value=<%= "u" + i %>>Update</button>                    
                      <button class="btn btn-dark py-2 my-3" name="submit" type="submit" value=<%= "d" + i %>>Delete</button>                    
                    </div>
                    </div>                    
                  </div>
                </div> 
              </form>
        <% }}  %>

</div>
    
    <%- include("partials/footer.ejs") %>

</body>
</html>